<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>categolj2-frontend by making</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
    <header>
        <h1>categolj2</h1>

        <p>Tech memo</p>

        <p class="view">
            <a href="https://github.com/making/categolj2-frontend">View
                the Project on GitHub
                <small>making/categolj2-frontend</small>
            </a>
        </p>
    </header>
    <section id="recently-posts"></section>
    <section id="entries"></section>
    <footer>
        <p>
            This project is maintained by <a
                href="https://github.com/making">making</a>
        </p>

        <p>
            <small>Hosted on GitHub Pages &mdash; Theme by <a
                    href="https://github.com/orderedlist">orderedlist</a></small>
        </p>
    </footer>
</div>
<script type="text/x-handlebars-template" id="recently-posts-tmpl">
    <h3>Recently Posts</h3>
    <ul>
        {{#each recently_posts}}
        <li><a href="{{entry_id}}">{{title}}</a></li>
        {{/each}}
    </ul>
</script>
<script type="text/x-handlebars-template" id="entries-tmpl">
    {{#each entries}}
    <h3>{{title}}</h3>
    <small>{{updated_at}} by {{created_by.username}}</small>

    <p>
        {{contents}}
    </p>
    <hr>
    {{/each}}
</script>
<script src="javascripts/scale.fix.js"></script>
<script src="javascripts/jquery-1.10.2.min.js"></script>
<script src="javascripts/handlebars-1.0.0.js"></script>
<script type="text/javascript">
    $(function () {
        var entriesTmpl = $('#entries-tmpl').html(),
                entriesCompiled = Handlebars.compile(entriesTmpl),
                $entries = $('#entries'),
                recentlyPostsTmpl = $('#recently-posts-tmpl').html(),
                recentlyPostsCompiled = Handlebars.compile(recentlyPostsTmpl),
                $recentlyPosts = $('#recently-posts');

        $.getJSON('https://s3-ap-northeast-1.amazonaws.com/dummyapi/entries.json').success(function (data) {
            $entries.html(entriesCompiled(data));
            $recentlyPosts.html(recentlyPostsCompiled(data));
        });
    })
</script>
</body>
</html>